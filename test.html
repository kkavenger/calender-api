<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Delete Event API</title>
</head>
<body>
    <h1>Delete Event API Tester</h1>

    <select id="userSelect">
        <option value="0">User 1</option>
        <option value="1">User 2</option>
    </select>

    <button onclick="testDeleteEventAPI()">Test Delete Event API</button>

    <script>
        const testDeleteEventAPI = async () => {
            const userSelect = document.getElementById('userSelect');
            const selectedUserId = userSelect.value;

            const userTokens = [
                {
                    "access_token": "ya29.a0AfB_byDQn-7i8lZ0LoysLnCK8lc-hEY4wNYMD38vZDJ8uFc4jQQscz7nhSH0v6UO1O2_nN2TntAmNkAjgu3laqOuFfj8A8FZOIC7r5VkNndnlDfYtrMxbbQ5GAMBhCONWZLYH1buBKZPeETEwk-Qe_2vuzYeRLKs8WsqaCgYKASUSARISFQHGX2MikQ6AF9gSjVL1bg5kdjPhCQ0171",
                    "refresh_token": "1//0gRFvMQkp9OR_CgYIARAAGBASNwF-L9IrsTrlkXNp6IHqj0dQeqxQQ8RHaKAqE99vp8eresrjJsQ3Qk5eldsuibTVcHb2DHVHOYQ",
                    "scope": "https://www.googleapis.com/auth/calendar",
                    "token_type": "Bearer",
                    "expiry_date": 1707058800903
                },
                {
                    "access_token": "ya29.a0AfB_byBV0iKfhL6abBI-2_ZiB4GvhlTXnXR_-ZW02iCsRuKTB0R8iVM4YOtyRwmgYDh1vU67qWMHjs5iGl0-o8UPALllrjMdtFDB3D3X1pI6Z2lexn5NmTfVu9G_0rn214EopzZnDYMX5-mL1VZM1rx5C0Mn3ylSW0AhaCgYKAc0SARMSFQHGX2MimqTfbDZZgDeK9uH3g-n96A0171",
                    "refresh_token": "1//0gQjL64NU4Bf-CgYIARAAGBASNwF-L9IrC5aM_FSMwPtCNa21NIz-9OZkiq_0VnXwCZSFrViiSR01KJuDR6lHfTV5d9l29wiaZlU",
                    "scope": "https://www.googleapis.com/auth/calendar",
                    "token_type": "Bearer",
                    "expiry_date": 1707058906727
                },
            ];

            const selectedUserToken = userTokens[1];

            const eventId = "4f6mj181ie20lrduo3pf8s0m9k"; // Replace with your event ID

            try {
                const response = await fetch('http://localhost:3000/delete_event', {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        userToken: selectedUserToken,
                        eventId: eventId,
                    }),
                });
                console.log(response);

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const data = await response.json();
                console.log('Delete Event API Response:', data);
            } catch (error) {
                console.error('Error:', error.message);
            }
        };
    </script>
</body>
</html>
