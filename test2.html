<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sync Calendars</title>
</head>
<body>

    <form id="syncCalendarsForm">
        <button type="button" onclick="syncCalendars()">Sync Calendars</button>
    </form>

    <script>
        async function syncCalendars() {
            const userTokens = [
                {
                    "access_token": "ya29.a0AfB_byBVOL252uIszpcdwLA8T_HDX3X5-soQ24Ae2szSdV5Ikt2-tCN5wXOlrJP7dAiOFtgEum5hsYyQkbEZH2tDuC-jsWZS-mxoctf9GI7vEnK_roP0Dm1nlYBNfX7kBU8__kSWmPex4P7ora3W776lnwGEBRfxcXpXaCgYKAcQSARMSFQHGX2MiMUjEhgJnup7LCTDz91j4ZA0171",
                    "refresh_token": "1//0gCo7hPsem_b3CgYIARAAGBASNwF-L9IrB0mZW78xmrsT6QvdJJMe7Zw2mIGaQtlcL5MQ_Dh9NKhdr_iZ7iK7Deu3yI529fqXaCo",
                    "scope": "https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email openid",
                    "token_type": "Bearer",
                    "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImJkYzRlMTA5ODE1ZjQ2OTQ2MGU2M2QzNGNkNjg0MjE1MTQ4ZDdiNTkiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiIyMDEwMTAxMTE4MzItMm1kZWJiaDVxMHJ2Nmt1YjRka2VtZHJraTk4Ym5tcW4uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiIyMDEwMTAxMTE4MzItMm1kZWJiaDVxMHJ2Nmt1YjRka2VtZHJraTk4Ym5tcW4uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTExNzI5NzM4OTkwODc0NTU5NjYiLCJoZCI6Imp1ZXRndW5hLmluIiwiZW1haWwiOiIyMDFCMTQxQGp1ZXRndW5hLmluIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJ1M1lXSEVyeUV6S1hadEtkWUUtTlR3IiwiaWF0IjoxNzA3MTQ5NzQwLCJleHAiOjE3MDcxNTMzNDB9.fgjj9anHWzdTahGvrXbRQrK21PbGYwWDzcfinOYH9a__yDJMkxPO-n_4Swt8A4H7JsMb3hlDty5iNi5ysx6QsUInmpuDh81mVVvOw7DxsYHIlZjUaiewKXQlVnIJFhyD0U_63wusCruJNYegM9MrVfrNWmARNN4NHHV_8cizvSdim9udxQTraLroL2UeuF25Mv1Vxx6rdhcpfG1uhRi4YTJEOwlfT5LzQINCG95DdCXtsJj60B-UTddRulD4Db423xH6qk36In22RP2-ZnhjV41CTc9qObYHD4y9m4wxLhGO5OScCjfEzNyCaGbYpeXYdxjqxhw8oSL4mS2PhGCFWQ",
                    "expiry_date": 1707153339423
                },
            ];

            const response = await fetch('http://localhost:3000/get_calendars', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ users: userTokens }),
            });

            const result = await response.json();
            console.log(result);
            // Handle the result as needed
        }
    </script>

</body>
</html>
